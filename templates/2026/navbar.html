{% load static %}

<header class="{% if request.path == '/' or request.path == '' %}bg-black{% else %}bg-gray-700{% endif %}" id="main-header">
  <div class="navbar-container">
    <!-- Logo -->
    <div>
      <a href="/">
        <img src="{% static '2026/img/logo final.png' %}" class="navbar-logo-img" alt="PyCon Africa 2026" style="max-width: 80px;">
      </a>
    </div>

    <!-- Desktop Navigation -->
    <div class="nav-desktop">
      <!-- About Dropdown -->
      <div class="nav-dropdown-wrapper" x-data="{open:false}">
        <button class="nav-item" @click="open=!open">
          ABOUT
          <i class="fa fa-chevron-up" aria-hidden="true" x-show="open" style="display: none;"></i>
          <i class="fa fa-chevron-down" aria-hidden="true" x-show="!open" style="display: none;"></i>
        </button>
        <div x-show="open" @click.outside="open = false" class="nav-dropdown-menu" style="display: none;">
          <a class="nav-item" href="/2026/about/pycon-africa-2026/">About Us</a>
          <a class="nav-item" href="/2026/coc/">Code of Conduct</a>
          <a class="nav-item" href="/2026/about/privacy-policy/">Privacy Policy</a>
          <a class="nav-item" href="/2026/about/contact-us/">Contact Us</a>
          <!-- <a class="nav-item" href="/2026/travel/">Travel Guide</a> -->
        </div>
      </div>

      <!-- Blog -->
      <a class="nav-item" href="https://pyconafrica.blogspot.com/" target="_blank" rel="noopener noreferrer">BLOG</a>

        <!-- Talks -->
      <div class="nav-dropdown-wrapper" x-data="{open:false}">
        <button class="nav-item" @click="open=!open">
          SPEAK AT PYCON
          <i class="fa fa-chevron-up" aria-hidden="true" x-show="open" style="display: none;"></i>
          <i class="fa fa-chevron-down" aria-hidden="true" x-show="!open" style="display: none;"></i>
        </button>
        <div x-show="open" @click.outside="open = false" class="nav-dropdown-menu" style="display: none;">
          {% comment %}<a class="nav-item" href="/2026/speakers_list/">Our Speakers</a>{% endcomment %}
          <a class="nav-item" href="/2026/talks/proposals/">Proposals</a>
          <a class="nav-item" href="/2026/talks/proposing_a_talk/">Proposing a Talk</a>
          {% if user.is_authenticated %}
            <a class="nav-item" href="{% url 'talks:submit_talk' year=2026 %}">Submit a Proposal</a>
          {% else %}
            <a class="nav-item" href="{% url 'auth_login' %}?next={% url 'talks:submit_talk' year=2026 %}">Submit a Proposal</a>
          {% endif %}
          <a class="nav-item" href="/2026/talks/recording-release/">Recording Release</a>
          {% comment %}<a class="nav-item" href="/2026/talks/mentorship/">SPEAKER MENTORSHIP</a>{% endcomment %}
        </div>
      </div>

      <!-- Sponsors Dropdown -->
      <div class="nav-dropdown-wrapper" x-data="{open:false}">
        <button class="nav-item" @click="open=!open">
          SPONSOR
          <i class="fa fa-chevron-up" aria-hidden="true" x-show="open" style="display: none;"></i>
          <i class="fa fa-chevron-down" aria-hidden="true" x-show="!open" style="display: none;"></i>
        </button>
        <div x-show="open" @click.outside="open = false" class="nav-dropdown-menu" style="display: none;">
          <a class="nav-item" href="/2026/sponsor-us/">Sponsor Us</a>
          {% comment %}<a class="nav-item" href="/2026/our-sponsors/">Our Sponsors</a>{% endcomment %}
          <!-- <a class="nav-item" href="https://drive.google.com/file/d/1kFroSEsjlMDYiGPmuYnvSxAaTe-HfIRp/view?usp=drive_link" target="_blank">PyCon Uganda 2026 Sponsorship Prospectus</a> -->
        </div>
      </div>

       <!-- Regions -->
      <div class="nav-dropdown-wrapper" x-data="{open:false}">
        <button class="nav-item" @click="open=!open">
          REGIONS
          <i class="fa fa-chevron-up" aria-hidden="true" x-show="open" style="display: none;"></i>
          <i class="fa fa-chevron-down" aria-hidden="true" x-show="!open" style="display: none;"></i>
        </button>
        <div x-show="open" @click.outside="open = false" class="nav-dropdown-menu" style="display: none;">
          <!-- <a class="nav-item" href="/2026/travel/">Travel Guide</a> -->
          <a class="nav-item" href="/2026/region/kenya-region/">PYCON AFRICA 2026 – KENYA REGION</a>
          <a class="nav-item" href="/2026/region/rwanda-region/">PYCON AFRICA 2026 – RWANDA REGION</a>
          <a class="nav-item" href="/2026/region/tanzania-region/">PYCON AFRICA 2026 – TANZANIA REGION</a>
          <a class="nav-item" href="/2026/region/south-sudan-region/">PYCON AFRICA 2026 – SOUTH SUDAN REGION</a>
        </div>
      </div>

      <!-- Venue -->
      <!-- <div class="nav-dropdown-wrapper" x-data="{open:false}">
        <button class="nav-item" @click="open=!open">
          VENUE
          <i class="fa fa-chevron-up" aria-hidden="true" x-show="open" style="display: none;"></i>
          <i class="fa fa-chevron-down" aria-hidden="true" x-show="!open" style="display: none;"></i>
        </button>

      </div> -->

      <!-- Talks Dropdown -->
      {% comment %}
      <div class="nav-dropdown-wrapper" x-data="{open:false}">
        <button class="nav-item" @click="open=!open">
          TALKS
          <i class="fa fa-chevron-up" aria-hidden="true" x-show="open" style="display: none;"></i>
          <i class="fa fa-chevron-down" aria-hidden="true" x-show="!open" style="display: none;"></i>
        </button>
        <div x-show="open" @click.outside="open = false" class="nav-dropdown-menu" style="display: none;">
          <a class="nav-item" href="/2026/schedule/">Schedule</a>
          <a class="nav-item" href="/2026/speakers_list/">Speakers</a>
          <a class="nav-item" href="/2026/talks/submit_talk/">Submit a Proposal</a>
        </div>
      </div>
      {% endcomment %}

      <!-- Past Events Dropdown -->
      {% comment %}
      <div class="nav-dropdown-wrapper" x-data="{open:false}">
        <button class="nav-item" @click="open=!open">
          PAST EVENTS
          <i class="fa fa-chevron-up" aria-hidden="true" x-show="open" style="display: none;"></i>
          <i class="fa fa-chevron-down" aria-hidden="true" x-show="!open" style="display: none;"></i>
        </button>
        <div x-show="open" @click.outside="open = false" class="nav-dropdown-menu" style="display: none;">
          <a class="nav-item" href="/2020/">2020</a>
          <a class="nav-item" href="/2019/report/">2019</a>
        </div>
      </div>
      {% endcomment %}

      <!-- Uganda Dropdown -->
      <div class="nav-dropdown-wrapper" x-data="{open:false}">
        <button class="nav-item" @click="open=!open">
          UGANDA
          <i class="fa fa-chevron-up" aria-hidden="true" x-show="open" style="display: none;"></i>
          <i class="fa fa-chevron-down" aria-hidden="true" x-show="!open" style="display: none;"></i>
        </button>
        <div x-show="open" @click.outside="open = false" class="nav-dropdown-menu" style="display: none;">
          <a class="nav-item" href="/2026/visa/apply/">APPLYING FOR A VISA</a>
          <a class="nav-item" href="/2026/visa/letter/">GET A VISA LETTER</a>
          <a class="nav-item" href="/2026/visa/bus/">ARRIVING BY BUS TO KAMPALA</a>
          <a class="nav-item" href="/2026/visa/flying/">FLYING TO UGANDA</a>
          <!-- <a class="nav-item" href="/2026/travel/">TRAVEL GUIDE</a> -->
        </div>
      </div>

      <div class="nav-dropdown-wrapper" x-data="{open:false}">
        <button class="nav-item" @click="open=!open">
          PAST
          <i class="fa fa-chevron-up" aria-hidden="true" x-show="open" style="display: none;"></i>
          <i class="fa fa-chevron-down" aria-hidden="true" x-show="!open" style="display: none;"></i>
        </button>
        <div x-show="open" @click.outside="open = false" class="nav-dropdown-menu" style="display: none;">
          <a class="nav-item" href="https://za.pycon.org/" target="_blank" rel="noopener noreferrer">2025</a>
          <a class="nav-item" href="https://africa.pycon.org/2024/" target="_blank" rel="noopener noreferrer">2024</a>
          <a class="nav-item" href="https://africa.pycon.org/2020/" target="_blank" rel="noopener noreferrer">2020</a>
          <a class="nav-item" href="https://africa.pycon.org/2019/" target="_blank" rel="noopener noreferrer">2019</a>
        </div>
      </div>

      <!-- User Authentication -->
      {% if user.is_authenticated %}
      <div class="nav-dropdown-wrapper" x-data="{open:false}">
        <button class="nav-item" @click="open=!open">
          <i class='fa-solid fa-user' aria-hidden='true'></i> {{ user.username }}
          <i class="fa fa-chevron-up" aria-hidden="true" x-show="open" style="display: none;"></i>
          <i class="fa fa-chevron-down" aria-hidden="true" x-show="!open" style="display: none;"></i>
        </button>
        <div x-show="open" @click.outside="open = false" class="nav-dropdown-menu" style="display: none;">
          <a class="nav-item" href="{% url 'profiles:profile_home' %}">My Profile</a>
          {% if request.user.is_superuser %}
          <a class="nav-item" href="/organizers/">Admin Dashboard</a>
          {% endif %}
          <form method="POST" action="/accounts/logout/" style="display: inline;">
            {% csrf_token %}
            <button type="submit" class="nav-item">Log out</button>
          </form>
        </div>
      </div>
      {% else %}
      <a class="nav-item" href="/accounts/login/">SIGN UP / LOG IN</a>
      {% endif %}
    </div>

    <!-- Mobile Navigation -->
    <div class="nav-mobile" x-data="{ open: false }">
      <button class="nav-mobile-toggle" @click="open = !open">
        <i class="fa fa-bars" aria-hidden="true" x-show="!open" style="display:none;"></i>
        <i class="fa fa-caret-down" aria-hidden="true" x-show="open" style="display:none;"></i>
      </button>

      <div x-show="open" style="display:none;" class="nav-mobile-menu" @click.outside="open = false">
        <!-- About (dropdown) -->
        <div x-data="{ openSection: false }">
          <button class="nav-item w-full flex items-center justify-between" @click="openSection = !openSection" type="button">
            ABOUT
            <i class="fa fa-chevron-up" aria-hidden="true" x-show="openSection" style="display:none;"></i>
            <i class="fa fa-chevron-down" aria-hidden="true" x-show="!openSection" style="display:none;"></i>
          </button>
          <div x-show="openSection" style="display:none;" class="mt-2 flex flex-col gap-2">
            <a class="nav-item nav-item-indent" href="/2026/about/pycon-africa-2026/">About Us</a>
            <a class="nav-item nav-item-indent" href="/2026/coc/">Code of Conduct</a>
            <a class="nav-item nav-item-indent" href="/2026/about/privacy-policy/">Privacy Policy</a>
            <a class="nav-item nav-item-indent" href="/2026/about/contact-us/">Contact Us</a>
          </div>
        </div>

        <!-- Blog -->
        <a class="nav-item" href="https://pyconafrica.blogspot.com/" target="_blank" rel="noopener noreferrer">BLOG</a>

        <!-- Speak at PyCon (dropdown) -->
        <div x-data="{ openSection: false }">
          <button class="nav-item w-full flex items-center justify-between" @click="openSection = !openSection" type="button">
            SPEAK AT PYCON
            <i class="fa fa-chevron-up" aria-hidden="true" x-show="openSection" style="display:none;"></i>
            <i class="fa fa-chevron-down" aria-hidden="true" x-show="!openSection" style="display:none;"></i>
          </button>
          <div x-show="openSection" style="display:none;" class="mt-2 flex flex-col gap-2">
            {% comment %}<a class="nav-item nav-item-indent" href="/2026/speakers_list/">Our Speakers</a>{% endcomment %}
            <a class="nav-item nav-item-indent" href="/2026/talks/proposals/">Proposals</a>
            <a class="nav-item nav-item-indent" href="/2026/talks/proposing_a_talk/">Proposing a Talk</a>
            {% if user.is_authenticated %}
              <a class="nav-item nav-item-indent" href="{% url 'talks:submit_talk' year=2026 %}">Submit a Proposal</a>
            {% else %}
              <a class="nav-item nav-item-indent" href="{% url 'auth_login' %}?next={% url 'talks:submit_talk' year=2026 %}">Submit a Proposal</a>
            {% endif %}
            <a class="nav-item nav-item-indent" href="/2026/talks/recording-release/">Recording Release</a>
          </div>
        </div>

        <!-- Sponsor (dropdown) -->
        <div x-data="{ openSection: false }">
          <button class="nav-item w-full flex items-center justify-between" @click="openSection = !openSection" type="button">
            SPONSOR
            <i class="fa fa-chevron-up" aria-hidden="true" x-show="openSection" style="display:none;"></i>
            <i class="fa fa-chevron-down" aria-hidden="true" x-show="!openSection" style="display:none;"></i>
          </button>
          <div x-show="openSection" style="display:none;" class="mt-2 flex flex-col gap-2">
            <a class="nav-item nav-item-indent" href="/2026/sponsor-us/">Sponsor Us</a>
          </div>
        </div>

        <!-- Regions (dropdown) -->
        <div x-data="{ openSection: false }">
          <button class="nav-item w-full flex items-center justify-between" @click="openSection = !openSection" type="button">
            REGIONS
            <i class="fa fa-chevron-up" aria-hidden="true" x-show="openSection" style="display:none;"></i>
            <i class="fa fa-chevron-down" aria-hidden="true" x-show="!openSection" style="display:none;"></i>
          </button>
          <div x-show="openSection" style="display:none;" class="mt-2 flex flex-col gap-2">
            <a class="nav-item nav-item-indent" href="/2026/region/kenya-region/">PYCON AFRICA 2026 – KENYA REGION</a>
            <a class="nav-item nav-item-indent" href="/2026/region/rwanda-region/">PYCON AFRICA 2026 – RWANDA REGION</a>
            <a class="nav-item nav-item-indent" href="/2026/region/tanzania-region/">PYCON AFRICA 2026 – TANZANIA REGION</a>
            <a class="nav-item nav-item-indent" href="/2026/region/south-sudan-region/">PYCON AFRICA 2026 – SOUTH SUDAN REGION</a>
          </div>
        </div>

        <!-- Uganda (dropdown) -->
        <div x-data="{ openSection: false }">
          <button class="nav-item w-full flex items-center justify-between" @click="openSection = !openSection" type="button">
            UGANDA
            <i class="fa fa-chevron-up" aria-hidden="true" x-show="openSection" style="display:none;"></i>
            <i class="fa fa-chevron-down" aria-hidden="true" x-show="!openSection" style="display:none;"></i>
          </button>
          <div x-show="openSection" style="display:none;" class="mt-2 flex flex-col gap-2">
            <a class="nav-item nav-item-indent" href="/2026/visa/apply/">APPLYING FOR A VISA</a>
            <a class="nav-item nav-item-indent" href="/2026/visa/letter/">GET A VISA LETTER</a>
            <a class="nav-item nav-item-indent" href="/2026/visa/bus/">ARRIVING BY BUS TO KAMPALA</a>
            <a class="nav-item nav-item-indent" href="/2026/visa/flying/">FLYING TO UGANDA</a>
          </div>
        </div>

        <!-- Past (dropdown) -->
        <div x-data="{ openSection: false }">
          <button class="nav-item w-full flex items-center justify-between" @click="openSection = !openSection" type="button">
            PAST
            <i class="fa fa-chevron-up" aria-hidden="true" x-show="openSection" style="display:none;"></i>
            <i class="fa fa-chevron-down" aria-hidden="true" x-show="!openSection" style="display:none;"></i>
          </button>
          <div x-show="openSection" style="display:none;" class="mt-2 flex flex-col gap-2">
            <a class="nav-item nav-item-indent" href="https://za.pycon.org/" target="_blank" rel="noopener noreferrer">2025</a>
            <a class="nav-item nav-item-indent" href="https://africa.pycon.org/2024/" target="_blank" rel="noopener noreferrer">2024</a>
            <a class="nav-item nav-item-indent" href="https://africa.pycon.org/2020/" target="_blank" rel="noopener noreferrer">2020</a>
            <a class="nav-item nav-item-indent" href="https://africa.pycon.org/2019/report/" target="_blank" rel="noopener noreferrer">2019 report</a>
          </div>
        </div>

        <!-- Account -->
        {% if user.is_authenticated %}
        <div x-data="{ openSection: false }">
          <button class="nav-item w-full flex items-center justify-between" @click="openSection = !openSection" type="button">
            <span><i class="fa-solid fa-user" aria-hidden="true"></i> {{ user.username }}</span>
            <i class="fa fa-chevron-up" aria-hidden="true" x-show="openSection" style="display:none;"></i>
            <i class="fa fa-chevron-down" aria-hidden="true" x-show="!openSection" style="display:none;"></i>
          </button>
          <div x-show="openSection" style="display:none;" class="mt-2 flex flex-col gap-2">
            <a class="nav-item nav-item-indent" href="{% url 'profiles:profile_home' %}">My Profile</a>
            {% if request.user.is_superuser %}
            <a class="nav-item nav-item-indent" href="/organizers/">Admin Dashboard</a>
            {% endif %}
            <form method="POST" action="/accounts/logout/" style="display: inline;">
              {% csrf_token %}
              <button type="submit" class="nav-item nav-item-indent">Log out</button>
            </form>
          </div>
        </div>
        {% else %}
        <a class="nav-item" href="/accounts/login/">SIGN UP / LOG IN</a>
        {% endif %}
      </div>
    </div>
  </div>
</header>
